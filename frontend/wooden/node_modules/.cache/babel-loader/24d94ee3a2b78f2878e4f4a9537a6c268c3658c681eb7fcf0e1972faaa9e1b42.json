{"ast":null,"code":"import axios_api from \"./axios\";\nimport { BASE_URL } from \"./config\";\nconst host = \"/plan/planlist\";\nexport const getPlanList = async () => {\n  try {\n    const res = await axios_api.get(\"/plan/planlist\");\n    return res.data;\n  } catch (err) {\n    var _err$response, _err$response2;\n    console.error(\"[getPlanList] status:\", err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status);\n    console.error(\"[getPlanList] data:\", err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data); // ← 서버 에러 메시지\n    throw err;\n  }\n};\n\n// 등록: 서버는 itemNo(숫자), planQty(숫자) 등만 받음\nexport const createPlan = async formData => {\n  const payload = {\n    itemNo: Number(formData.itemNo),\n    planQty: Number(formData.planQty),\n    planState: formData.planState,\n    planStartDate: formData.planStartDate,\n    // YYYY-MM-DD\n    planEndDate: formData.planEndDate // YYYY-MM-DD\n  };\n  const res = await axios_api.post(host, payload);\n  return res.data;\n};\n\n// 수정: useCRUD가 api.update(formData)로 호출\nexport const updatePlan = async formData => {\n  const planNo = formData.planNo;\n  const payload = {\n    itemNo: Number(formData.itemNo),\n    planQty: Number(formData.planQty),\n    planState: formData.planState,\n    planStartDate: formData.planStartDate,\n    planEndDate: formData.planEndDate\n  };\n  const res = await axios_api.put(`${host}/${planNo}`, payload);\n  return res.data;\n};\n\n// 상태 PATCH\nexport const patchPlanStatus = (planNo, payload) => {\n  return axios_api.patch(`${BASE_URL}/plan/planlist/${planNo}/status`, payload, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(r => r.data);\n};\n\n// 완료된 생산 리스트\nexport const getCompletedPlanList = async () => {\n  const res = await axios_api.get(`${host}/completed`);\n  return res.data;\n};\n\n// 삭제\nexport const deletePlan = async planNo => {\n  const res = await axios_api.delete(`${host}/${planNo}`);\n  return res.data;\n};","map":{"version":3,"names":["axios_api","BASE_URL","host","getPlanList","res","get","data","err","_err$response","_err$response2","console","error","response","status","createPlan","formData","payload","itemNo","Number","planQty","planState","planStartDate","planEndDate","post","updatePlan","planNo","put","patchPlanStatus","patch","headers","then","r","getCompletedPlanList","deletePlan","delete"],"sources":["C:/frontwooden/wooden/src/api/PlanListAPI.jsx"],"sourcesContent":["import axios_api from \"./axios\";\r\nimport { BASE_URL } from \"./config\";\r\n\r\nconst host = \"/plan/planlist\";\r\n\r\nexport const getPlanList = async () => {\r\n  try {\r\n    const res = await axios_api.get(\"/plan/planlist\");\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"[getPlanList] status:\", err?.response?.status);\r\n    console.error(\"[getPlanList] data:\", err?.response?.data); // ← 서버 에러 메시지\r\n    throw err;\r\n  }\r\n};\r\n\r\n\r\n// 등록: 서버는 itemNo(숫자), planQty(숫자) 등만 받음\r\nexport const createPlan = async (formData) => {\r\n  const payload = {\r\n    itemNo: Number(formData.itemNo),\r\n    planQty: Number(formData.planQty),\r\n    planState: formData.planState,\r\n    planStartDate: formData.planStartDate,  // YYYY-MM-DD\r\n    planEndDate: formData.planEndDate,      // YYYY-MM-DD\r\n  };\r\n  const res = await axios_api.post(host, payload);\r\n  return res.data;\r\n};\r\n\r\n// 수정: useCRUD가 api.update(formData)로 호출\r\nexport const updatePlan = async (formData) => {\r\n  const planNo = formData.planNo;\r\n  const payload = {\r\n    itemNo: Number(formData.itemNo),\r\n    planQty: Number(formData.planQty),\r\n    planState: formData.planState,\r\n    planStartDate: formData.planStartDate,\r\n    planEndDate: formData.planEndDate,\r\n  };\r\n  const res = await axios_api.put(`${host}/${planNo}`, payload);\r\n  return res.data;\r\n};\r\n\r\n// 상태 PATCH\r\nexport const patchPlanStatus = (planNo, payload) => {\r\n  return axios_api.patch(`${BASE_URL}/plan/planlist/${planNo}/status`, payload, {\r\n    headers: {\"Content-Type\" : \"application/json\"}\r\n    }).then(r => r.data);\r\n};\r\n\r\n// 완료된 생산 리스트\r\nexport const getCompletedPlanList = async () => {\r\n  const res = await axios_api.get(`${host}/completed`);\r\n  return res.data;\r\n}\r\n\r\n// 삭제\r\nexport const deletePlan = async (planNo) => {\r\n  const res = await axios_api.delete(`${host}/${planNo}`);\r\n  return res.data;\r\n};\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}