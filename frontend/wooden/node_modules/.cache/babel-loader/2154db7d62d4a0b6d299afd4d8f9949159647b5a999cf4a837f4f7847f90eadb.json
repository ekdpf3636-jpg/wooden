{"ast":null,"code":"var _jsxFileName = \"C:\\\\frontwooden\\\\wooden\\\\src\\\\components\\\\InlineSelectCell.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function InlineSelectCell({\n  rowKey,\n  value,\n  options = [],\n  onPatch,\n  stopRowClick = true,\n  disabled = false,\n  className = \"\"\n}) {\n  _s();\n  const [saving, setSaving] = useState(false);\n  const [localValue, setLocalValue] = useState(value);\n  const [editing, setEditing] = useState(false);\n\n  // 외부 값이 바뀌면 내부도 동기화\n  useEffect(() => {\n    setLocalValue(value);\n  }, [value]);\n  const handleChange = async e => {\n    const next = e.target.value;\n    if (next === (value !== null && value !== void 0 ? value : \"\")) return;\n    setSaving(true);\n    setLocalValue(next); // UI 업데이트\n    try {\n      await onPatch(rowKey, next); // 부모에서 navigate 등 처리\n    } finally {\n      setSaving(false);\n      setEditing(false); // 포커스 흐름 방지\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"select\", {\n    className: className,\n    value: localValue,\n    disabled: disabled || saving,\n    onChange: handleChange,\n    onFocus: () => setEditing(true),\n    onBlur: () => setEditing(false) // 안전하게 편집 종료\n    ,\n    onMouseDown: e => {\n      if (stopRowClick) e.stopPropagation(); // 가장 확실한 전파 방지\n    },\n    children: options.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: opt,\n      children: opt\n    }, opt, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(InlineSelectCell, \"gDoPvBxY0mJBU4oYicpF81RmkzE=\");\n_c = InlineSelectCell;\nvar _c;\n$RefreshReg$(_c, \"InlineSelectCell\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","InlineSelectCell","rowKey","value","options","onPatch","stopRowClick","disabled","className","_s","saving","setSaving","localValue","setLocalValue","editing","setEditing","handleChange","e","next","target","onChange","onFocus","onBlur","onMouseDown","stopPropagation","children","map","opt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/frontwooden/wooden/src/components/InlineSelectCell.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport default function InlineSelectCell({\r\n  rowKey,\r\n  value,\r\n  options = [],\r\n  onPatch,\r\n  stopRowClick = true,\r\n  disabled = false,\r\n  className = \"\",\r\n}) {\r\n  const [saving, setSaving] = useState(false);\r\n  const [localValue, setLocalValue] = useState(value);\r\n  const [editing, setEditing] = useState(false);\r\n\r\n  // 외부 값이 바뀌면 내부도 동기화\r\n  useEffect(() => {\r\n    setLocalValue(value);\r\n  }, [value]);\r\n\r\n  const handleChange = async (e) => {\r\n    const next = e.target.value;\r\n    if (next === (value ?? \"\")) return;\r\n\r\n    setSaving(true);\r\n    setLocalValue(next); // UI 업데이트\r\n    try {\r\n      await onPatch(rowKey, next); // 부모에서 navigate 등 처리\r\n    } finally {\r\n      setSaving(false);\r\n      setEditing(false); // 포커스 흐름 방지\r\n    }\r\n  };\r\n\r\n  return (\r\n    <select\r\n      className={className}\r\n      value={localValue}\r\n      disabled={disabled || saving}\r\n      onChange={handleChange}\r\n      onFocus={() => setEditing(true)}\r\n      onBlur={() => setEditing(false)} // 안전하게 편집 종료\r\n      onMouseDown={(e) => {\r\n        if (stopRowClick) e.stopPropagation(); // 가장 확실한 전파 방지\r\n      }}\r\n    >\r\n      {options.map((opt) => (\r\n        <option key={opt} value={opt}>\r\n          {opt}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,eAAe,SAASC,gBAAgBA,CAAC;EACvCC,MAAM;EACNC,KAAK;EACLC,OAAO,GAAG,EAAE;EACZC,OAAO;EACPC,YAAY,GAAG,IAAI;EACnBC,QAAQ,GAAG,KAAK;EAChBC,SAAS,GAAG;AACd,CAAC,EAAE;EAAAC,EAAA;EACD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAACM,KAAK,CAAC;EACnD,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACAC,SAAS,CAAC,MAAM;IACde,aAAa,CAACV,KAAK,CAAC;EACtB,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,MAAMa,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChC,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAAChB,KAAK;IAC3B,IAAIe,IAAI,MAAMf,KAAK,aAALA,KAAK,cAALA,KAAK,GAAI,EAAE,CAAC,EAAE;IAE5BQ,SAAS,CAAC,IAAI,CAAC;IACfE,aAAa,CAACK,IAAI,CAAC,CAAC,CAAC;IACrB,IAAI;MACF,MAAMb,OAAO,CAACH,MAAM,EAAEgB,IAAI,CAAC,CAAC,CAAC;IAC/B,CAAC,SAAS;MACRP,SAAS,CAAC,KAAK,CAAC;MAChBI,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;IACrB;EACF,CAAC;EAED,oBACEf,OAAA;IACEQ,SAAS,EAAEA,SAAU;IACrBL,KAAK,EAAES,UAAW;IAClBL,QAAQ,EAAEA,QAAQ,IAAIG,MAAO;IAC7BU,QAAQ,EAAEJ,YAAa;IACvBK,OAAO,EAAEA,CAAA,KAAMN,UAAU,CAAC,IAAI,CAAE;IAChCO,MAAM,EAAEA,CAAA,KAAMP,UAAU,CAAC,KAAK,CAAE,CAAC;IAAA;IACjCQ,WAAW,EAAGN,CAAC,IAAK;MAClB,IAAIX,YAAY,EAAEW,CAAC,CAACO,eAAe,CAAC,CAAC,CAAC,CAAC;IACzC,CAAE;IAAAC,QAAA,EAEDrB,OAAO,CAACsB,GAAG,CAAEC,GAAG,iBACf3B,OAAA;MAAkBG,KAAK,EAAEwB,GAAI;MAAAF,QAAA,EAC1BE;IAAG,GADOA,GAAG;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAER,CACT;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEb;AAACtB,EAAA,CAnDuBR,gBAAgB;AAAA+B,EAAA,GAAhB/B,gBAAgB;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}