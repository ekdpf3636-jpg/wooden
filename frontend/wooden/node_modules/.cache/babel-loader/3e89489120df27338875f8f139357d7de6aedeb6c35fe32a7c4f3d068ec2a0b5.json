{"ast":null,"code":"var _jsxFileName = \"C:\\\\frontwooden\\\\wooden\\\\src\\\\components\\\\ItemQtyMonthlyChart.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport { fetchItemQtyMonthlyAll, fetchItemQtyMonthlyByYm } from \"../api/salesApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ItemQtyMonthlyChart({\n  defaultYm,\n  topN = 10\n}) {\n  _s();\n  const [months, setMonths] = useState([]); // [\"2025-09\",\"2025-10\",...]\n  const [ym, setYm] = useState(defaultYm || \"\");\n  const [rows, setRows] = useState([]);\n  const [err, setErr] = useState(null);\n  useEffect(() => {\n    (async () => {\n      try {\n        const all = await fetchItemQtyMonthlyAll();\n        const uniq = Array.from(new Set(all.map(r => String(r.ym)))).sort();\n        setMonths(uniq);\n        setYm(prev => prev || uniq.at(-1) || \"\"); // 기본 최신월\n      } catch (e) {\n        setErr((e === null || e === void 0 ? void 0 : e.message) || \"month list load error\");\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    if (!ym) return;\n    (async () => {\n      try {\n        const r = await fetchItemQtyMonthlyByYm(ym);\n        setRows(r.slice(0, topN));\n        setErr(null);\n      } catch (e) {\n        setErr((e === null || e === void 0 ? void 0 : e.message) || \"chart load error\");\n      }\n    })();\n  }, [ym, topN]);\n  const data = useMemo(() => [[\"상품\", \"판매수량\"], ...rows.map(r => {\n    var _r$itemName, _r$qty;\n    return [String((_r$itemName = r.itemName) !== null && _r$itemName !== void 0 ? _r$itemName : \"\"), Number((_r$qty = r.qty) !== null && _r$qty !== void 0 ? _r$qty : 0)];\n  })], [rows]);\n  const options = {\n    title: `상품별 월 판매수량 Top${topN} (납품완료 기준)`,\n    legend: {\n      position: \"none\"\n    },\n    hAxis: {\n      title: \"상품\"\n    },\n    vAxis: {\n      title: \"수량\"\n    },\n    chartArea: {\n      left: 60,\n      top: 40,\n      width: \"80%\",\n      height: \"70%\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\uC6D4 \\uC120\\uD0DD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: ym,\n        onChange: e => setYm(e.target.value),\n        children: months.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: m,\n          children: m\n        }, m, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 28\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), err ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [\"\\uC6D4 \", ym, \" \\uB370\\uC774\\uD130 \\uB85C\\uB529 \\uC2E4\\uD328: \", err]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : data.length <= 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uD574\\uB2F9 \\uC6D4 \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Chart, {\n      chartType: \"ColumnChart\",\n      width: \"100%\",\n      height: \"320px\",\n      data: data,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(ItemQtyMonthlyChart, \"0jtNXEC1KJxi1G5HYLlmFa3IcUE=\");\n_c = ItemQtyMonthlyChart;\nvar _c;\n$RefreshReg$(_c, \"ItemQtyMonthlyChart\");","map":{"version":3,"names":["useEffect","useMemo","useState","Chart","fetchItemQtyMonthlyAll","fetchItemQtyMonthlyByYm","jsxDEV","_jsxDEV","ItemQtyMonthlyChart","defaultYm","topN","_s","months","setMonths","ym","setYm","rows","setRows","err","setErr","all","uniq","Array","from","Set","map","r","String","sort","prev","at","e","message","slice","data","_r$itemName","_r$qty","itemName","Number","qty","options","title","legend","position","hAxis","vAxis","chartArea","left","top","width","height","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","m","length","chartType","_c","$RefreshReg$"],"sources":["C:/frontwooden/wooden/src/components/ItemQtyMonthlyChart.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { Chart } from \"react-google-charts\";\r\nimport { fetchItemQtyMonthlyAll, fetchItemQtyMonthlyByYm } from \"../api/salesApi\";\r\n\r\nexport default function ItemQtyMonthlyChart({ defaultYm, topN = 10 }) {\r\n  const [months, setMonths] = useState([]);     // [\"2025-09\",\"2025-10\",...]\r\n  const [ym, setYm] = useState(defaultYm || \"\");\r\n  const [rows, setRows] = useState([]);\r\n  const [err, setErr] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const all = await fetchItemQtyMonthlyAll();\r\n        const uniq = Array.from(new Set(all.map(r => String(r.ym)))).sort();\r\n        setMonths(uniq);\r\n        setYm(prev => prev || uniq.at(-1) || \"\"); // 기본 최신월\r\n      } catch (e) {\r\n        setErr(e?.message || \"month list load error\");\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!ym) return;\r\n    (async () => {\r\n      try {\r\n        const r = await fetchItemQtyMonthlyByYm(ym);\r\n        setRows(r.slice(0, topN));\r\n        setErr(null);\r\n      } catch (e) {\r\n        setErr(e?.message || \"chart load error\");\r\n      }\r\n    })();\r\n  }, [ym, topN]);\r\n\r\n  const data = useMemo(() => ([\r\n    [\"상품\", \"판매수량\"],\r\n    ...rows.map(r => [String(r.itemName ?? \"\"), Number(r.qty ?? 0)]),\r\n  ]), [rows]);\r\n\r\n  const options = {\r\n    title: `상품별 월 판매수량 Top${topN} (납품완료 기준)`,\r\n    legend: { position: \"none\" },\r\n    hAxis: { title: \"상품\" },\r\n    vAxis: { title: \"수량\" },\r\n    chartArea: { left: 60, top: 40, width: \"80%\", height: \"70%\" },\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"toolbar\">\r\n        <label>월 선택</label>\r\n        <select value={ym} onChange={e => setYm(e.target.value)}>\r\n          {months.map(m => <option key={m} value={m}>{m}</option>)}\r\n        </select>\r\n      </div>\r\n      {err ? (\r\n        <div className=\"error\">월 {ym} 데이터 로딩 실패: {err}</div>\r\n      ) : data.length <= 1 ? (\r\n        <div>해당 월 데이터가 없습니다.</div>\r\n      ) : (\r\n        <Chart chartType=\"ColumnChart\" width=\"100%\" height=\"320px\" data={data} options={options}/>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}