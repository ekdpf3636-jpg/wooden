{"ast":null,"code":"var _jsxFileName = \"C:\\\\frontwooden\\\\wooden\\\\src\\\\pages\\\\order\\\\OrderApprovePage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useMemo } from \"react\";\nimport { getCompletedOrders } from \"../../api/OrderListAPI\";\nimport { OrderApproveArray, ORDER_APPROVE_NUMERIC_KEYS } from \"../../arrays/OrderApproveArray\";\nimport BackButtonComponent from \"../../components/BackButtonComponent\";\nimport SearchComponent from \"../../components/SearchComponent\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OrderApprovePage() {\n  _s();\n  const nav = useNavigate();\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // 검색 상태\n  const [q, setQ] = useState(\"\");\n  const [term, setTerm] = useState(\"\");\n  const load = async () => {\n    setLoading(true);\n    const data = await getCompletedOrders();\n    const normalized = (data || []).map(o => {\n      var _o$orderQty, _o$orderPrice, _o$totalPrice;\n      const qty = Number((_o$orderQty = o.orderQty) !== null && _o$orderQty !== void 0 ? _o$orderQty : 0);\n      const price = Number((_o$orderPrice = o.orderPrice) !== null && _o$orderPrice !== void 0 ? _o$orderPrice : 0);\n      const total = Number((_o$totalPrice = o.totalPrice) !== null && _o$totalPrice !== void 0 ? _o$totalPrice : 0) || qty * price;\n      return {\n        ...o,\n        orderQty: qty,\n        orderPrice: price,\n        totalPrice: total\n      };\n    });\n    setRows(normalized);\n    setLoading(false);\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const getSellerName = r => {\n    var _ref, _ref2, _r$cusComp;\n    return (_ref = (_ref2 = (_r$cusComp = r === null || r === void 0 ? void 0 : r.cusComp) !== null && _r$cusComp !== void 0 ? _r$cusComp : r === null || r === void 0 ? void 0 : r.customerName) !== null && _ref2 !== void 0 ? _ref2 : r === null || r === void 0 ? void 0 : r.company) !== null && _ref !== void 0 ? _ref : \"\";\n  };\n  const filtered = useMemo(() => {\n    const t = term.trim().toLowerCase();\n    if (!t) return rows;\n    return rows.filter(r => getSellerName(r).toLowerCase().includes(t));\n  }, [rows, term]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(BackButtonComponent, {\n      text: \"<  \\uC774\\uC804\\uD398\\uC774\\uC9C0\",\n      onClick: () => nav(-1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"\\uC8FC\\uBB38\\uC644\\uB8CC\\uD604\\uD669\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-searchbar\",\n      children: [/*#__PURE__*/_jsxDEV(SearchComponent, {\n        value: q,\n        onChange: setQ,\n        onDebounced: setTerm,\n        delay: 300,\n        minLength: 0,\n        placeholder: \"\\uD310\\uB9E4\\uCC98\\uBA85 \\uAC80\\uC0C9\",\n        className: \"border rounded px-3 py-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: load,\n        className: \"refresh\",\n        children: \"\\uC0C8\\uB85C\\uACE0\\uCE68\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-wrapper\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          padding: 20\n        },\n        children: \"\\uBD88\\uB7EC\\uC624\\uB294 \\uC911\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: OrderApproveArray.map(c => /*#__PURE__*/_jsxDEV(\"th\", {\n              children: c.label\n            }, c.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 53\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filtered.length ? filtered.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: OrderApproveArray.map(c => {\n              const val = r[c.key];\n              if (ORDER_APPROVE_NUMERIC_KEYS.has(c.key)) {\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: Number(val !== null && val !== void 0 ? val : 0).toLocaleString()\n                }, c.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 28\n                }, this);\n              }\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                children: val\n              }, c.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 28\n              }, this);\n            })\n          }, r.orderNo, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: OrderApproveArray.length,\n              style: {\n                textAlign: \"center\"\n              },\n              children: \"\\uC644\\uB8CC\\uB41C \\uC8FC\\uBB38\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(OrderApprovePage, \"pDJXKMmbGL/PbZ45u2qATUbQ7YQ=\", false, function () {\n  return [useNavigate];\n});\n_c = OrderApprovePage;\nvar _c;\n$RefreshReg$(_c, \"OrderApprovePage\");","map":{"version":3,"names":["useEffect","useState","useMemo","getCompletedOrders","OrderApproveArray","ORDER_APPROVE_NUMERIC_KEYS","BackButtonComponent","SearchComponent","useNavigate","jsxDEV","_jsxDEV","OrderApprovePage","_s","nav","rows","setRows","loading","setLoading","q","setQ","term","setTerm","load","data","normalized","map","o","_o$orderQty","_o$orderPrice","_o$totalPrice","qty","Number","orderQty","price","orderPrice","total","totalPrice","getSellerName","r","_ref","_ref2","_r$cusComp","cusComp","customerName","company","filtered","t","trim","toLowerCase","filter","includes","className","children","text","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","textAlign","value","onChange","onDebounced","delay","minLength","placeholder","padding","c","label","id","length","val","key","has","toLocaleString","orderNo","colSpan","_c","$RefreshReg$"],"sources":["C:/frontwooden/wooden/src/pages/order/OrderApprovePage.jsx"],"sourcesContent":["import { useEffect, useState, useMemo } from \"react\";\r\nimport { getCompletedOrders } from \"../../api/OrderListAPI\";\r\nimport { OrderApproveArray, ORDER_APPROVE_NUMERIC_KEYS } from \"../../arrays/OrderApproveArray\";\r\nimport BackButtonComponent from \"../../components/BackButtonComponent\";\r\nimport SearchComponent from \"../../components/SearchComponent\"\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function OrderApprovePage() {\r\n    const nav = useNavigate();\r\n    const [rows, setRows] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // 검색 상태\r\n    const [q, setQ] = useState(\"\");\r\n    const [term, setTerm] = useState(\"\");\r\n\r\n    const load = async () => {\r\n        setLoading(true);\r\n        const data = await getCompletedOrders();\r\n        const normalized = (data || []).map(o => {\r\n            const qty = Number(o.orderQty ?? 0);\r\n            const price = Number(o.orderPrice ?? 0);\r\n            const total = Number(o.totalPrice ?? 0) || qty * price;\r\n            return { ...o, orderQty: qty, orderPrice: price, totalPrice: total };\r\n        });\r\n        setRows(normalized);\r\n        setLoading(false);\r\n    };\r\n    \r\n    useEffect(() => { load(); }, []);\r\n\r\n    const getSellerName = (r) => r?.cusComp ?? r?.customerName ?? r?.company ?? \"\";\r\n    const filtered = useMemo(() => {\r\n        const t = term.trim().toLowerCase();\r\n        if (!t) return rows;\r\n        return rows.filter(r => getSellerName(r).toLowerCase().includes(t));\r\n    }, [rows, term]);\r\n\r\n    return (\r\n        <div className=\"page-wrapper\">\r\n        <BackButtonComponent text=\"<  이전페이지\" onClick={() => nav(-1)} />\r\n        <h2 style={{ textAlign: \"center\" }}>주문완료현황</h2>\r\n\r\n        <div className=\"top-searchbar\">\r\n            <SearchComponent\r\n                value={q}\r\n                onChange={setQ}\r\n                onDebounced={setTerm}\r\n                delay={300}\r\n                minLength={0}\r\n                placeholder=\"판매처명 검색\"\r\n                className=\"border rounded px-3 py-2\"\r\n            />\r\n\r\n            <button onClick={load} className=\"refresh\">새로고침</button>\r\n\r\n        </div>\r\n        <div className=\"table-wrapper\">\r\n            {loading ? (\r\n            <div style={{ textAlign: \"center\", padding: 20 }}>불러오는 중</div>\r\n        ) : (\r\n            <table>\r\n                <thead>\r\n                    <tr>{OrderApproveArray.map(c => <th key={c.id}>{c.label}</th>)}</tr>\r\n            </thead>\r\n            \r\n            <tbody>\r\n                {filtered.length ? filtered.map(r => (\r\n                <tr key={r.orderNo}>\r\n                    {OrderApproveArray.map(c => {\r\n                    const val = r[c.key];\r\n                    if (ORDER_APPROVE_NUMERIC_KEYS.has(c.key)) {\r\n                    return <td key={c.id}>{Number(val ?? 0).toLocaleString()}</td>;\r\n                    }\r\n                    return <td key={c.id}>{val}</td>;\r\n                })}\r\n                </tr>\r\n                )) : (\r\n                \r\n                <tr>\r\n                    <td colSpan={OrderApproveArray.length} style={{ textAlign: \"center\" }}>\r\n                    완료된 주문이 없습니다.\r\n                    </td>\r\n                </tr>\r\n                )}\r\n            </tbody>\r\n        </table>\r\n    )}\r\n        </div>\r\n        \r\n\r\n        \r\n    </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}