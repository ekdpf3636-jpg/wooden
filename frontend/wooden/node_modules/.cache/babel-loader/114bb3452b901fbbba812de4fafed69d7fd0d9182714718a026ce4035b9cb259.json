{"ast":null,"code":"var _jsxFileName = \"C:\\\\frontwooden\\\\wooden\\\\src\\\\components\\\\ForecastCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { getForecastSeries } from \"../api/forecastAPI\";\nimport { ResponsiveContainer, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from \"recharts\";\n\n// 아주 작은 예측치는 0으로 보정\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tidy = v => v == null ? null : v < 0.5 ? 0 : Math.round(v);\nexport default function ForecastCard({\n  itemNo = 1,\n  horizon = 12,\n  title\n}) {\n  _s();\n  var _series$itemName;\n  const [series, setSeries] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(null);\n\n  // 데이터 로드\n  useEffect(() => {\n    (async () => {\n      try {\n        setLoading(true);\n        const res = await getForecastSeries(itemNo, horizon);\n        setSeries(res);\n      } catch (e) {\n        setErr((e === null || e === void 0 ? void 0 : e.message) || \"데이터 로드 오류\");\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [itemNo, horizon]);\n\n  // 차트 데이터 (hist + mean만 구성)\n  const chartData = useMemo(() => {\n    if (!series) return [];\n    const hist = (series.history || []).map(h => ({\n      date: h.date,\n      hist: tidy(h.qty),\n      mean: null\n    }));\n    const fc = (series.forecast || []).map(f => ({\n      date: f.date,\n      hist: null,\n      mean: tidy(f.mean)\n    }));\n    return [...hist, ...fc];\n  }, [series]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16\n    },\n    children: \"\\uB85C\\uB529\\uC911\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 23\n  }, this);\n  if (err) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16,\n      color: \"#b91c1c\"\n    },\n    children: [\"\\uC5D0\\uB7EC: \", String(err)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 19\n  }, this);\n  if (!series) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      overflow: \"visible\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          fontSize: 18\n        },\n        children: title !== null && title !== void 0 ? title : `예측: ${(_series$itemName = series.itemName) !== null && _series$itemName !== void 0 ? _series$itemName : `Item #${series.itemNo}`}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#6b7280\",\n          fontSize: 12,\n          marginLeft: 12,\n          whiteSpace: \"nowrap\",\n          lineHeight: 1.3,\n          paddingBottom: 2,\n          display: \"inline-block\"\n        },\n        children: \"\\uC2E4\\uC801(\\uAC80\\uC815) \\xB7 \\uC608\\uCE21(\\uD30C\\uB791)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"100%\",\n        height: 320,\n        overflow: \"visible\"\n      },\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: chartData,\n          margin: {\n            top: 10,\n            right: 16,\n            left: 8,\n            bottom: 24\n          },\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"date\",\n            minTickGap: 24,\n            tickMargin: 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            allowDecimals: false,\n            tickMargin: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"hist\",\n            name: \"\\uC2E4\\uC801\",\n            dot: false,\n            stroke: \"#111827\",\n            strokeWidth: 2,\n            isAnimationActive: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"mean\",\n            name: \"\\uC608\\uCE21\",\n            dot: false,\n            stroke: \"#2563eb\",\n            strokeWidth: 2,\n            isAnimationActive: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(ForecastCard, \"vYhFqag5Y15G3NSgNV+WzSb0lpg=\");\n_c = ForecastCard;\nvar _c;\n$RefreshReg$(_c, \"ForecastCard\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","getForecastSeries","ResponsiveContainer","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","jsxDEV","_jsxDEV","tidy","v","Math","round","ForecastCard","itemNo","horizon","title","_s","_series$itemName","series","setSeries","loading","setLoading","err","setErr","res","e","message","chartData","hist","history","map","h","date","qty","mean","fc","forecast","f","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","String","overflow","display","justifyContent","alignItems","marginBottom","fontWeight","fontSize","itemName","marginLeft","whiteSpace","lineHeight","paddingBottom","width","height","data","margin","top","right","left","bottom","strokeDasharray","dataKey","minTickGap","tickMargin","allowDecimals","type","name","dot","stroke","strokeWidth","isAnimationActive","_c","$RefreshReg$"],"sources":["C:/frontwooden/wooden/src/components/ForecastCard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { getForecastSeries } from \"../api/forecastAPI\";\r\nimport {\r\n  ResponsiveContainer,\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend\r\n} from \"recharts\";\r\n\r\n// 아주 작은 예측치는 0으로 보정\r\nconst tidy = (v) => (v == null ? null : v < 0.5 ? 0 : Math.round(v));\r\n\r\nexport default function ForecastCard({ itemNo = 1, horizon = 12, title }) {\r\n  const [series, setSeries] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(null);\r\n\r\n  // 데이터 로드\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await getForecastSeries(itemNo, horizon);\r\n        setSeries(res);\r\n      } catch (e) {\r\n        setErr(e?.message || \"데이터 로드 오류\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [itemNo, horizon]);\r\n\r\n  // 차트 데이터 (hist + mean만 구성)\r\n  const chartData = useMemo(() => {\r\n    if (!series) return [];\r\n    const hist = (series.history || []).map(h => ({\r\n      date: h.date,\r\n      hist: tidy(h.qty),\r\n      mean: null\r\n    }));\r\n    const fc = (series.forecast || []).map(f => ({\r\n      date: f.date,\r\n      hist: null,\r\n      mean: tidy(f.mean)\r\n    }));\r\n    return [...hist, ...fc];\r\n  }, [series]);\r\n\r\n  if (loading) return <div style={{ padding: 16 }}>로딩중…</div>;\r\n  if (err) return <div style={{ padding: 16, color: \"#b91c1c\" }}>에러: {String(err)}</div>;\r\n  if (!series) return null;\r\n\r\n  return (\r\n    <div style={{ overflow: \"visible\" }}>\r\n      {/* 헤더: 제목(왼) · 설명(오) */}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          marginBottom: 16\r\n        }}\r\n      >\r\n        <div style={{ fontWeight: 700, fontSize: 18 }}>\r\n          {title ?? `예측: ${series.itemName ?? `Item #${series.itemNo}`}`}\r\n        </div>\r\n        <div\r\n          style={{\r\n            color: \"#6b7280\",\r\n            fontSize: 12,\r\n            marginLeft: 12,\r\n            whiteSpace: \"nowrap\",\r\n            lineHeight: 1.3,\r\n            paddingBottom: 2,\r\n            display: \"inline-block\"\r\n          }}\r\n        >\r\n          실적(검정) · 예측(파랑)\r\n        </div>\r\n      </div>\r\n\r\n      {/* 차트: hist + mean */}\r\n      <div style={{ width: \"100%\", height: 320, overflow: \"visible\" }}>\r\n        <ResponsiveContainer>\r\n          <LineChart data={chartData} margin={{ top: 10, right: 16, left: 8, bottom: 24 }}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis dataKey=\"date\" minTickGap={24} tickMargin={6} />\r\n            <YAxis allowDecimals={false} tickMargin={4} />\r\n            <Tooltip />\r\n            <Legend />\r\n\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey=\"hist\"\r\n              name=\"실적\"\r\n              dot={false}\r\n              stroke=\"#111827\"\r\n              strokeWidth={2}\r\n              isAnimationActive={false}\r\n            />\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey=\"mean\"\r\n              name=\"예측\"\r\n              dot={false}\r\n              stroke=\"#2563eb\"\r\n              strokeWidth={2}\r\n              isAnimationActive={false}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}